---
let githubRepos

if (import.meta.env.DEV) {
	githubRepos = JSON.parse(`[{"id":817307871,"node_id":"R_kgDOMLcg3w","name":"Keypirinha-qrcode","full_name":"thisisleobro/Keypirinha-qrcode","private":false,"owner":{"login":"thisisleobro","id":25367871,"node_id":"MDQ6VXNlcjI1MzY3ODcx","avatar_url":"https://avatars.githubusercontent.com/u/25367871?v=4","gravatar_id":"","url":"https://api.github.com/users/thisisleobro","html_url":"https://github.com/thisisleobro","followers_url":"https://api.github.com/users/thisisleobro/followers","following_url":"https://api.github.com/users/thisisleobro/following{/other_user}","gists_url":"https://api.github.com/users/thisisleobro/gists{/gist_id}","starred_url":"https://api.github.com/users/thisisleobro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thisisleobro/subscriptions","organizations_url":"https://api.github.com/users/thisisleobro/orgs","repos_url":"https://api.github.com/users/thisisleobro/repos","events_url":"https://api.github.com/users/thisisleobro/events{/privacy}","received_events_url":"https://api.github.com/users/thisisleobro/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/thisisleobro/Keypirinha-qrcode","description":"A Plugin to convert text to QR Code from Keypirinha. Either open as image or copy to clipboard","fork":false,"url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode","forks_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/forks","keys_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/keys{/key_id}","collaborators_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/teams","hooks_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/hooks","issue_events_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/issues/events{/number}","events_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/events","assignees_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/assignees{/user}","branches_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/branches{/branch}","tags_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/tags","blobs_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/git/refs{/sha}","trees_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/git/trees{/sha}","statuses_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/statuses/{sha}","languages_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/languages","stargazers_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/stargazers","contributors_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/contributors","subscribers_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/subscribers","subscription_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/subscription","commits_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/commits{/sha}","git_commits_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/git/commits{/sha}","comments_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/comments{/number}","issue_comment_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/issues/comments{/number}","contents_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/contents/{+path}","compare_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/compare/{base}...{head}","merges_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/merges","archive_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/downloads","issues_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/issues{/number}","pulls_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/pulls{/number}","milestones_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/milestones{/number}","notifications_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/labels{/name}","releases_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/releases{/id}","deployments_url":"https://api.github.com/repos/thisisleobro/Keypirinha-qrcode/deployments","created_at":"2024-06-19T12:42:41Z","updated_at":"2024-12-15T20:42:24Z","pushed_at":"2024-12-15T19:54:12Z","git_url":"git://github.com/thisisleobro/Keypirinha-qrcode.git","ssh_url":"git@github.com:thisisleobro/Keypirinha-qrcode.git","clone_url":"https://github.com/thisisleobro/Keypirinha-qrcode.git","svn_url":"https://github.com/thisisleobro/Keypirinha-qrcode","homepage":"","size":2095,"stargazers_count":7,"watchers_count":7,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["keypirinha","keypirinha-plugin"],"visibility":"public","forks":0,"open_issues":0,"watchers":7,"default_branch":"master"},{"id":899003060,"node_id":"R_kgDONZWytA","name":"thisisleobro.github.io","full_name":"thisisleobro/thisisleobro.github.io","private":false,"owner":{"login":"thisisleobro","id":25367871,"node_id":"MDQ6VXNlcjI1MzY3ODcx","avatar_url":"https://avatars.githubusercontent.com/u/25367871?v=4","gravatar_id":"","url":"https://api.github.com/users/thisisleobro","html_url":"https://github.com/thisisleobro","followers_url":"https://api.github.com/users/thisisleobro/followers","following_url":"https://api.github.com/users/thisisleobro/following{/other_user}","gists_url":"https://api.github.com/users/thisisleobro/gists{/gist_id}","starred_url":"https://api.github.com/users/thisisleobro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/thisisleobro/subscriptions","organizations_url":"https://api.github.com/users/thisisleobro/orgs","repos_url":"https://api.github.com/users/thisisleobro/repos","events_url":"https://api.github.com/users/thisisleobro/events{/privacy}","received_events_url":"https://api.github.com/users/thisisleobro/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/thisisleobro/thisisleobro.github.io","description":"Source code to my personal portfolio. Built using astro","fork":false,"url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io","forks_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/forks","keys_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/keys{/key_id}","collaborators_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/teams","hooks_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/hooks","issue_events_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/issues/events{/number}","events_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/events","assignees_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/assignees{/user}","branches_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/branches{/branch}","tags_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/tags","blobs_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/git/refs{/sha}","trees_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/git/trees{/sha}","statuses_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/statuses/{sha}","languages_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/languages","stargazers_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/stargazers","contributors_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/contributors","subscribers_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/subscribers","subscription_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/subscription","commits_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/commits{/sha}","git_commits_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/git/commits{/sha}","comments_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/comments{/number}","issue_comment_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/issues/comments{/number}","contents_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/contents/{+path}","compare_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/compare/{base}...{head}","merges_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/merges","archive_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/downloads","issues_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/issues{/number}","pulls_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/pulls{/number}","milestones_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/milestones{/number}","notifications_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/labels{/name}","releases_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/releases{/id}","deployments_url":"https://api.github.com/repos/thisisleobro/thisisleobro.github.io/deployments","created_at":"2024-12-05T12:48:30Z","updated_at":"2025-01-03T13:21:39Z","pushed_at":"2025-01-03T13:21:35Z","git_url":"git://github.com/thisisleobro/thisisleobro.github.io.git","ssh_url":"git@github.com:thisisleobro/thisisleobro.github.io.git","clone_url":"https://github.com/thisisleobro/thisisleobro.github.io.git","svn_url":"https://github.com/thisisleobro/thisisleobro.github.io","homepage":"https://thisisleobro.github.io/","size":2089,"stargazers_count":1,"watchers_count":1,"language":"Astro","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":0,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":0,"license":null,"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["portfolio","portfolio-website","projects"],"visibility":"public","forks":0,"open_issues":0,"watchers":1,"default_branch":"master"}]`)
} else {
	const response = await fetch('https://api.github.com/users/thisisleobro/repos');
	githubRepos = await response.json();
}

import packageIcon from '../assets/icons/package.svg?raw'
// import github from '../assets/icons/github.svg?raw'
import star from '../assets/icons/star.svg?raw'

import {t} from 'i18next'
---
<section id="repos" class="flex flex-col align-middle gap-8 max-w-3xl mx-auto m-24">
	<div class="flex flex-col gap-2">
		<h2 class="text-xl font-semibold text-center pt-4">
			{t('repos.title')}
		</h2>
		<h3 class="text-lg text-center text-gray-600">
			{t('repos.subtitle')}
		</h3>
	</div>
	<ul id="github-repos" class="flex flex-col gap-8">
		{githubRepos.map((repo) => <li class="flex flex-col gap-2">
			<div class="flex justify-between">
				<a href={repo.html_url} class="flex align-middle gap-2">
					<Fragment set:html={packageIcon}/> {repo.name}
				</a> 
				<div class="flex justify-between gap-2 star">
					<Fragment set:html={star}/> {repo.stargazers_count}
				</div>
			</div>
			<p>{repo.description ?? '...'}</p>
		</li>)}
	</ul>
</section>
